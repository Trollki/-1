<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ЗМІ 1+1 — Новини України</title>
  <style>
    /* Скидання і базові стилі */
    * {
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #fff;
      color: #2b2b2b;
      margin: 0;
      padding: 0 15px 40px;
      max-width: 960px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.65;
      background: #fff;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #c1272d;
      padding: 18px 25px;
      color: white;
      border-radius: 0 0 14px 14px;
      margin-bottom: 36px;
      box-shadow: 0 5px 15px rgb(193 39 45 / 0.55);
      position: sticky;
      top: 0;
      z-index: 1000;
      user-select: none;
    }

    header .logo {
      font-weight: 900;
      font-size: 2.0em;
      letter-spacing: 2px;
      font-family: 'Arial Black', Arial, sans-serif;
      cursor: default;
      text-shadow: 0 0 5px #6d0000cc;
    }

    nav a {
      color: #ffe8e9;
      text-decoration: none;
      margin-left: 28px;
      font-weight: 700;
      font-size: 1.15em;
      padding: 8px 14px;
      border-radius: 8px;
      transition: background-color 0.3s ease, color 0.3s ease;
      cursor: pointer;
    }
    nav a:hover {
      background-color: #ffe8e9;
      color: #c1272d;
      font-weight: 800;
      box-shadow: 0 0 12px #c1272daa;
    }
    nav a.active {
      background-color: #fff;
      color: #c1272d;
      font-weight: 900;
      box-shadow: 0 0 18px #c1272dcc;
    }

    /* Фільтр тегів */
    #tagFilter {
      margin-bottom: 20px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .tag-button {
      background: #c1272d;
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s ease;
    }
    .tag-button:hover {
      background: #a10005;
    }
    .tag-button.active {
      background: #fff;
      color: #c1272d;
      font-weight: 700;
    }

    /* Новини */
    #newsContainer {
      display: flex;
      flex-direction: column;
      gap: 30px;
      margin-bottom: 60px;
    }
    .news-item {
      background: #fff6f6;
      padding: 28px 32px;
      border-radius: 16px;
      box-shadow: 0 7px 20px rgb(193 39 45 / 0.15);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      border: 2px solid #c1272d44;
      user-select: none;
      cursor: pointer;
    }
    .news-item:hover {
      transform: translateY(-6px);
      box-shadow: 0 12px 30px rgb(193 39 45 / 0.3);
      border-color: #c1272dbb;
    }
    .news-title {
      font-size: 1.7em;
      font-weight: 900;
      margin-bottom: 8px;
      color: #a10005;
      text-shadow: 1px 1px 3px #f5c0c0cc;
      user-select: text;
    }
    .news-date {
      font-size: 1em;
      color: #a13639;
      margin-bottom: 10px;
      font-style: italic;
      user-select: text;
    }
    .news-tags {
      margin-bottom: 15px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    .news-tag {
      background: #c1272d;
      color: white;
      padding: 4px 12px;
      border-radius: 6px;
      font-size: 0.9em;
      font-weight: 600;
      user-select: text;
    }
    .news-text {
      font-size: 1.15em;
      margin-bottom: 22px;
      white-space: pre-line;
      color: #5a1417;
      user-select: text;
    }
    .copy-link-button {
      background: #c1272d;
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s ease;
      margin-top: 10px;
      display: inline-block;
    }
    .copy-link-button:hover {
      background: #a10005;
    }
    img, video, iframe {
      width: 100%;
      border-radius: 14px;
      margin-bottom: 22px;
      max-height: 420px;
      object-fit: cover;
      user-select: none;
      box-shadow: 0 5px 15px rgb(193 39 45 / 0.25);
    }

    /* Сторінка "Про нас" */
    #aboutPage {
      display: none;
      background: #fff6f6;
      padding: 28px 32px;
      border-radius: 18px;
      box-shadow: 0 7px 25px rgb(193 39 45 / 0.2);
      line-height: 1.75;
      color: #5a1417;
      user-select: text;
    }
    #aboutPage h1 {
      font-size: 2.6em;
      margin-bottom: 22px;
      color: #a10005;
      border-bottom: 4px solid #c1272d;
      padding-bottom: 12px;
      font-weight: 900;
      user-select: text;
      text-shadow: 1px 1px 4px #f5c0c0cc;
    }
    #aboutPage p {
      font-size: 1.18em;
      margin-bottom: 22px;
      line-height: 1.6;
      user-select: text;
    }
    #aboutPage strong {
      color: #8b0000;
    }
    #aboutPage .highlight {
      background: #c1272d;
      color: #fff;
      padding: 8px 16px;
      border-radius: 10px;
      font-weight: 800;
      box-shadow: 0 0 12px #c1272dcc;
      user-select: none;
      display: inline-block;
      margin-bottom: 30px;
    }

    /* Сторінка окремої новини */
    #newsPage {
      display: none;
      background: #fff6f6;
      padding: 28px 32px;
      border-radius: 18px;
      box-shadow: 0 7px 25px rgb(193 39 45 / 0.2);
      line-height: 1.75;
      color: #5a1417;
      user-select: text;
    }
    #newsPage h1 {
      font-size: 2.2em;
      margin-bottom: 15px;
      color: #a10005;
      font-weight: 900;
      text-shadow: 1px 1px 4px #f5c0c0cc;
    }
    #newsPage .news-date {
      font-size: 1.1em;
      margin-bottom: 15px;
    }
    #newsPage .news-tags {
      margin-bottom: 20px;
    }
    #newsPage .news-text {
      font-size: 1.2em;
      line-height: 1.6;
    }
    #newsPage .back-button {
      display: inline-block;
      background: #c1272d;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 700;
      margin-top: 20px;
      transition: background-color 0.3s ease;
    }
    #newsPage .back-button:hover {
      background: #a10005;
    }

    /* Адаптивність */
    @media (max-width: 700px) {
      body {
        padding: 0 12px 30px;
        max-width: 100%;
      }
      header {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
        padding: 16px 20px;
      }
      nav a {
        margin-left: 0;
        margin-right: 15px;
        font-size: 1.1em;
        padding: 10px 16px;
      }
      .news-item {
        padding: 20px 24px;
      }
      .news-title {
        font-size: 1.4em;
      }
      #aboutPage h1, #newsPage h1 {
        font-size: 2em;
      }
      #aboutPage p, #newsPage .news-text {
        font-size: 1.05em;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="logo">ЗМІ 1+1</div>
  <nav>
    <a href="#" id="linkHome" class="active">Головна</a>
    <a href="#" id="linkAbout">Про нас</a>
  </nav>
</header>

<!-- Головна сторінка -->
<div id="homePage">
  <div id="tagFilter"></div>
  <div id="newsContainer"></div>
</div>

<!-- Про нас -->
<div id="aboutPage">
  <h1>Про нас</h1>
  <div class="highlight">Державне інформаційне агентство України</div>
  <p><strong>ЗМІ 1+1</strong> — це офіційне, надійне джерело новин для українського народу. Наша команда працює над тим, щоб кожен отримував правдиву, оперативну і виважену інформацію про події в Україні та світі.</p>
  <p>Ми пишаємося тим, що підтримуємо незалежність і суверенітет України, висвітлюючи важливі соціальні, політичні, економічні та культурні події. Високі стандарти журналістики та етика — наш головний пріоритет.</p>
  <p>Наша редакція складається з досвідчених журналістів, кореспондентів і аналітиків, які працюють у Києві, регіонах України та за кордоном. Ми прагнемо бути голосом правди та мостом між владою і суспільством.</p>
  <p><strong>Директор ЗМІ 1+1</strong> — <em>Вадим Лийсинко</em>, відомий журналіст і професіонал з багаторічним досвідом у сфері інформаційної безпеки та медіа. Під його керівництвом агентство динамічно розвивається, впроваджуючи сучасні технології та формати подачі новин.</p>
  <p>Вадим Лийсинко — Колишній майор у Національній поліції України, колишній полковник СБУ та начальник БКОЗ, що дає йому унікальне розуміння питань безпеки та оперативної роботи в інформаційній сфері. Його досвід дозволяє забезпечувати баланс між оперативністю та достовірністю інформації.</p>
  <p>Ми віримо, що медіа мають служити суспільству, тому відкриті до зворотного зв’язку та співпраці з громадськістю. Залишайтеся з нами, щоб бути в курсі найважливіших подій.</p>
</div>

<!-- Сторінка окремої новини -->
<div id="newsPage"></div>

<script>
  // Дані новин з доданими тегами та унікальними ID
  const newsData = [
    {
      id: 'news1',
      title: "ЗСУ відбили напад на Лисичанськ: деталі",
      date: "2025-07-13",
      tags: ["Надзвичайне", "Політика", "Культура", "Освіта"],
      text: `Збройні сили України успішно відбили спробу прориву ворога у напрямку Лисичанська. У боях загинули понад 15 окупантів, наші воїни понесли незначні втрати. Позиції міцно утримуються, противник зазнає значних втрат у техніці.\n\nКомандування підкреслює важливість цієї перемоги для подальшого звільнення Донбасу.`,
      media: {
        type: "image",
        src: "https://th.bing.com/th/id/OIP.eUYrwjiKwYKxzWesFK1CWgHaE8?w=233&h=180&c=7&r=0&o=7&pid=1.7&rm=3",
        alt: "Прапор України на фронті"
      }
    },
    {
      id: 'news2',
      title: "Путін наказав вивезти цінне обладнання з заводу в Харкові",
      date: "2023-05-20",
      tags: ["Економіка", "Інфраструктура", "Екологія", "МОЗ"],
      text: `Російське командування здійснило спробу евакуації стратегічного обладнання з заводу "Електромаш" у Харкові. Частину техніки було вивезено, проте більшість залишилась завдяки оперативності СБУ та місцевих партизан.\n\nЦей випадок свідчить про постійний тиск на українську промисловість з боку агресора.`,
      media: {
        type: "video",
        src: "https://www.w3schools.com/html/mov_bbb.mp4"
      }
    },
    {
      id: 'news3',
      title: "Новий закон про кібербезпеку в Україні: що зміниться",
      date: "2023-05-25",
      tags: ["Технології", "Політика", "Фільми", "Освіта"],
      text: `Верховна Рада ухвалила закон, який посилює захист державних інформаційних систем та критичної інфраструктури від кібератак. Закон передбачає жорсткі санкції для порушників та створення спеціального центру реагування.\n\nЕксперти відзначають, що це важливий крок для зміцнення нацбезпеки у цифрову епоху.`,
      media: null
    }
  ];

  const newsContainer = document.getElementById('newsContainer');
  const homePage = document.getElementById('homePage');
  const aboutPage = document.getElementById('aboutPage');
  const newsPage = document.getElementById('newsPage');
  const tagFilter = document.getElementById('tagFilter');

  // Унікальні теги
  const allTags = [...new Set(newsData.flatMap(news => news.tags))];
  let selectedTag = null;

  // Перевірка, чи сторінка завантажена в обмеженому контексті (наприклад, about:srcdoc)
  const isRestrictedContext = window.location.origin === 'null' || window.location.href.startsWith('about:srcdoc');

  // Функція для копіювання посилання
  function copyNewsLink(newsId) {
    const url = isRestrictedContext ? `?news=${newsId}` : `${window.location.origin}${window.location.pathname}?news=${newsId}`;
    navigator.clipboard.writeText(url).then(() => {
      alert('Посилання скопійовано!');
    }).catch(err => {
      console.error('Помилка копіювання:', err);
      alert('Не вдалося скопіювати посилання.');
    });
  }

  // Функція для створення фільтру тегів
  function renderTagFilter() {
    tagFilter.innerHTML = '';
    const allButton = document.createElement('button');
    allButton.className = 'tag-button' + (selectedTag === null ? ' active' : '');
    allButton.textContent = 'Усі';
    allButton.addEventListener('click', () => {
      selectedTag = null;
      renderTagFilter();
      renderNews();
      if (!isRestrictedContext) {
        history.pushState({}, '', window.location.pathname);
      }
    });
    tagFilter.appendChild(allButton);

    allTags.forEach(tag => {
      const button = document.createElement('button');
      button.className = 'tag-button' + (selectedTag === tag ? ' active' : '');
      button.textContent = tag;
      button.addEventListener('click', () => {
        selectedTag = tag;
        renderTagFilter();
        renderNews();
        if (!isRestrictedContext) {
          history.pushState({}, '', window.location.pathname);
        }
      });
      tagFilter.appendChild(button);
    });
  }

  // Функція для створення новинних блоків
  function renderNews() {
    newsContainer.innerHTML = '';
    const filteredNews = selectedTag ? newsData.filter(news => news.tags.includes(selectedTag)) : newsData;
    
    filteredNews.forEach(news => {
      const newsEl = document.createElement('article');
      newsEl.classList.add('news-item');
      newsEl.addEventListener('click', (e) => {
        if (e.target.classList.contains('copy-link-button')) return;
        showNewsPage(news.id);
        if (!isRestrictedContext) {
          history.pushState({}, '', `?news=${news.id}`);
        }
      });

      const title = document.createElement('h2');
      title.className = 'news-title';
      title.textContent = news.title;

      const date = document.createElement('div');
      date.className = 'news-date';
      date.textContent = new Date(news.date).toLocaleDateString('uk-UA', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      });

      const tags = document.createElement('div');
      tags.className = 'news-tags';
      news.tags.forEach(tag => {
        const tagEl = document.createElement('span');
        tagEl.className = 'news-tag';
        tagEl.textContent = tag;
        tags.appendChild(tagEl);
      });

      const text = document.createElement('p');
      text.className = 'news-text';
      text.textContent = news.text.split('\n')[0] + '...';

      const copyButton = document.createElement('button');
      copyButton.className = 'copy-link-button';
      copyButton.textContent = 'Копіювати посилання';
      copyButton.addEventListener('click', () => copyNewsLink(news.id));

      newsEl.appendChild(title);
      newsEl.appendChild(date);
      newsEl.appendChild(tags);
      newsEl.appendChild(text);
      newsEl.appendChild(copyButton);

      if (news.media) {
        if (news.media.type === 'image') {
          const img = document.createElement('img');
          img.src = news.media.src;
          img.alt = news.media.alt || 'Новина';
          newsEl.appendChild(img);
        } else if (news.media.type === 'video') {
          const video = document.createElement('video');
          video.controls = true;
          video.src = news.media.src;
          newsEl.appendChild(video);
        }
      }

      newsContainer.appendChild(newsEl);
    });
  }

  // Функція для відображення сторінки окремої новини
  function showNewsPage(newsId) {
    const news = newsData.find(n => n.id === newsId);
    if (!news) return;

    homePage.style.display = 'none';
    aboutPage.style.display = 'none';
    newsPage.style.display = 'block';
    linkHome.classList.remove('active');
    linkAbout.classList.remove('active');

    newsPage.innerHTML = `
      <h1>${news.title}</h1>
      <div class="news-date">${new Date(news.date).toLocaleDateString('uk-UA', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      })}</div>
      <div class="news-tags">
        ${news.tags.map(tag => `<span class="news-tag">${tag}</span>`).join('')}
      </div>
      <p class="news-text">${news.text}</p>
      ${news.media ? (news.media.type === 'image' ? 
        `<img src="${news.media.src}" alt="${news.media.alt || 'Новина'}">` : 
        `<video controls src="${news.media.src}"></video>`) : ''}
      <button class="copy-link-button">Копіювати посилання</button>
      <a href="#" class="back-button">Повернутися до новин</a>
    `;

    newsPage.querySelector('.copy-link-button').addEventListener('click', () => copyNewsLink(news.id));
    newsPage.querySelector('.back-button').addEventListener('click', e => {
      e.preventDefault();
      showHome();
      if (!isRestrictedContext) {
        history.pushState({}, '', window.location.pathname);
      }
    });
  }

  // Навігація
  const linkHome = document.getElementById('linkHome');
  const linkAbout = document.getElementById('linkAbout');

  function showHome() {
    homePage.style.display = 'block';
    aboutPage.style.display = 'none';
    newsPage.style.display = 'none';
    linkHome.classList.add('active');
    linkAbout.classList.remove('active');
    renderTagFilter();
    renderNews();
  }

  function showAbout() {
    homePage.style.display = 'none';
    aboutPage.style.display = 'block';
    newsPage.style.display = 'none';
    linkHome.classList.remove('active');
    linkAbout.classList.add('active');
    if (!isRestrictedContext) {
      history.pushState({}, '', window.location.pathname);
    }
  }

  linkHome.addEventListener('click', e => {
    e.preventDefault();
    showHome();
    if (!isRestrictedContext) {
      history.pushState({}, '', window.location.pathname);
    }
  });

  linkAbout.addEventListener('click', e => {
    e.preventDefault();
    showAbout();
  });

  // Перевірка URL для відображення конкретної новини при завантаженні
  window.addEventListener('load', () => {
    if (isRestrictedContext) {
      showHome();
      return;
    }
    const params = new URLSearchParams(window.location.search);
    const newsId = params.get('news');
    if (newsId && newsData.some(n => n.id === newsId)) {
      showNewsPage(newsId);
    } else {
      showHome();
    }
  });

  // Обробка зміни стану історії
  if (!isRestrictedContext) {
    window.addEventListener('popstate', () => {
      const params = new URLSearchParams(window.location.search);
      const newsId = params.get('news');
      if (newsId && newsData.some(n => n.id === newsId)) {
        showNewsPage(newsId);
      } else {
        showHome();
      }
    });
  }
</script>

</body>
</html>
